# Migration `20200415123926-add-role-to-user-model`

This migration has been generated by Tom Barton at 4/15/2020, 12:39:26 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TYPE "Role" AS ENUM ('ADMIN', 'USER');

ALTER TABLE "public"."User" ADD COLUMN "role" "Role" NOT NULL ;
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200410230955-make-reset-token-hash-unique..20200415123926-add-role-to-user-model
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = env("POSTGRESQL_URL")
 }
 model User {
   email               String   @unique
@@ -13,8 +13,14 @@
   id                  Int      @default(autoincrement()) @id
   lastname            String
   password            String
   registeredAt        DateTime @default(now())
-  resetToken          String? @unique
+  resetToken          String?  @unique
   resetTokenExpiry    DateTime?
   updatedAt           DateTime @updatedAt
+  role                Role
 }
+
+enum Role {
+  ADMIN
+  USER
+}
```


