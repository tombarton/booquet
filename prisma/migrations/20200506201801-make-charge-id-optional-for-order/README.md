# Migration `20200506201801-make-charge-id-optional-for-order`

This migration has been generated by Tom Barton at 5/6/2020, 8:18:01 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Order" ALTER COLUMN "chargeId" DROP NOT NULL;

ALTER INDEX "public"."Cart.userId" RENAME TO "Cart_userId"

ALTER INDEX "public"."Cart_userId" RENAME TO "Cart.userId"
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200506201325-add-additional-order-status..20200506201801-make-charge-id-optional-for-order
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = env("POSTGRESQL_URL")
 }
 model User {
   email            String    @unique
@@ -75,9 +75,9 @@
   id        Int         @default(autoincrement()) @id
   items     OrderItem[]
   total     Int
   status    OrderStatus
-  chargeId  String
+  chargeId  String?
   createdAt DateTime    @default(now())
   updatedAt DateTime    @updatedAt
   user      User?       @relation(fields: [userId], references: [id])
   userId    String?
```


